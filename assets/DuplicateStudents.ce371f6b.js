import{bh as K,ca as P,bj as z,bi as M,aI as r,bG as U,aT as l,bs as F,b as Y,bb as E,bk as q,bd as O}from"./vendor.9dfca3cc.js";import{M as H}from"./vendor_mui_datatables.3afb61c8.js";import{a as b}from"./vendor_axios.5abceb0c.js";import{F as W,G as J,H as Q,b as h,c as k}from"./index.ad695817.js";import"./vendor_core_js_pure.26d1b0db.js";import"./vendor_lodash.872a697f.js";import"./vendor_react_epic_spinners.bbaea7d4.js";import"./vendor_react_slick.b9cbcc15.js";import"./vendor_react_easy_edit.1ec3282f.js";import"./vendor_react_player.58c4554f.js";const w="https://join.navgurukul.org/api/",ie=()=>{const{enqueueSnackbar:A}=K(),c=P(),a=z(),I=()=>a(k(!0)),d=()=>a(k(!1)),{lang:N}=M(e=>e.ui),[B,$]=r.useState(null),[s,C]=r.useState({data:[],pendingInterviewStage:"checking"}),{search:y}=U(),p=y.split("=")[1].split("&")[0],g=y.split("=")[2].split("&")[0],T=async e=>{try{const t=`0${g}`;I();const u=`${w}helpline/register_exotel_call`,f=await b.get(u,{params:{ngCallType:"getEnrolmentKey",From:t,partner_id:B,student_id:e}});return d(),f}catch(t){throw A("Something went wrong",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),d(),Error(t.message)}},_=[{name:"id",label:"Re-Test",options:{filter:!1,customBodyRender:r.useCallback((e,t)=>l(F,{disabled:t.rowData[1]==="pendingEnglishInterview"||t.rowData[1]==="pendingCultureFitInterview"||t.rowData[1]==="pendingAlgebraInterview",variant:"contained",color:"primary",style:{fontSize:"10px"},onClick:async()=>{const u=await T(e),[f,j,G]=p.split("_");a(W({firstName:f,middleName:j,lastName:G,mobileNumber:g})),a(J(u.data.key)),a(Q(e)),c("/test/instructions"),d()},children:"Re-Test"}),[])}},{name:"stage",label:"Stage",options:{filter:!1,customBodyRender:e=>h[e]}},{name:"stage",label:"Book Slot",options:{filter:!1,customBodyRender:r.useCallback((e,t)=>l(F,{disabled:t.rowData[1]!=="pendingEnglishInterview"&&t.rowData[1]!=="pendingCultureFitInterview"&&t.rowData[1]!=="pendingAlgebraInterview",variant:"contained",color:"primary",style:{fontSize:"10px"},onClick:()=>{c({pathname:`/bookSlot/${t.rowData[0]}`})},children:"Book Slot"}),[])}},{name:"total_marks",label:"Marks",options:{filter:!1,customBodyRender:(e,t)=>t.rowData[1]==="enrolmentKeyGenerated"&&e===null?"Last Test Not Submitted":e}},{name:"key",label:"Key",options:{filter:!1,display:!1,viewColumns:!1}}],S={stageMessage:{en:`Your  ${h[s.pendingInterviewStage]} is still pending. You\u2019re not required to give the online test now. We will soon complete your admission process.`,hi:`\u0906\u092A\u0915\u093E  ${h[s.pendingInterviewStage]}  \u0905\u092D\u0940 \u092D\u0940 \u091A\u0932 \u0930\u0939\u093E \u0939\u0948\u0902\u0964 \u0905\u092D\u0940 \u0906\u092A\u0915\u094B \u0911\u0928\u0932\u093E\u0907\u0928 \u092A\u0930\u0940\u0915\u094D\u0937\u093E \u0926\u0947\u0928\u0947 \u0915\u0940 \u0906\u0935\u0936\u094D\u092F\u0915\u0924\u093E \u0928\u0939\u0940\u0902 \u0939\u0948\u0964 \u0939\u092E \u091C\u0932\u094D\u0926 \u0939\u0940 \u0906\u092A\u0915\u0940 \u092A\u094D\u0930\u0935\u0947\u0936 \u092A\u094D\u0930\u0915\u094D\u0930\u093F\u092F\u093E (\u090F\u0921\u092E\u093F\u0936\u0928 \u092A\u094D\u0930\u094B\u0938\u0947\u0938) \u092A\u0942\u0930\u0940 \u0915\u0930 \u0926\u0947\u0902\u0917\u0947\u0964`},testFailedMessage:{en:", Your previous attempts were unsuccessful/test failed, please give the 1st stage of the online test again.",hi:", \u0906\u092A\u0915\u0947 \u092A\u093F\u091B\u0932\u0947 \u091F\u0947\u0938\u094D\u091F \u0905\u0938\u092B\u0932 \u0930\u0939\u0947 \u092F\u093E \u0906\u092A \u092A\u093E\u0938 \u0928\u0939\u0940\u0902 \u0939\u094B \u092A\u093E\u090F, \u0915\u0943\u092A\u092F\u093E \u0911\u0928\u0932\u093E\u0907\u0928 \u091F\u0947\u0938\u094D\u091F \u0935\u093E\u092A\u0938 \u0938\u0947 \u0926\u0947\u0964"}},x=()=>{const e=g;b.get(`${w}check_duplicate`,{params:{Name:p.split("_").join(""),Number:e}}).then(async t=>{const u=t.data.data;u.alreadyGivenTest&&C({...s,data:u.data,pendingInterviewStage:u.data[0].stage})})},R=async e=>{try{const t=await b.get(`${w}partners/slug/${e}`,{});$(t.data.data.id)}catch{c("/notFound")}};Y.exports.useEffect(()=>{const e=window.location.href.split("partnerLanding/")[1];e&&R(e),x()},[]);const{data:L}=s,v=N;let n,o="",i;const m=p.split("_"),{pendingInterviewStage:D}=s;return m.length===3?([n,o,i]=m,console.log("Middle name",o)):[n,i]=m,console.log("Is this page is coming?"),E(q,{children:[E(O,{variant:"h5",id:"modal-title",children:["Student Status",l("br",{})]}),l(H,{title:D==="enrolmentKeyGenerated"||D==="testFailed"?`${n.concat(" ",o," ",i)}
            ${S.testFailedMessage[v]}`:`${n.concat(" ",o," ",i)}${S.stageMessage[v]}`,columns:_,data:L,options:{viewColumns:!1,print:!1,download:!1,exportButton:!0,pageSize:100,selectableRows:"none",rowsPerPage:20,rowsPerPageOptions:[20,40,60],toolbar:!1,filter:!1,responsive:"vertical"}})]})};export{ie as default};
